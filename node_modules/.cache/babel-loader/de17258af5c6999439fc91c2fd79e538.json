{"ast":null,"code":"var _jsxFileName = \"/Users/christopherlee/Git/CS5610/chris-h-colin-n-chris-l-project3/src/components/LoginStatus.jsx\",\n    _s = $RefreshSig$();\n\nimport Axios from 'axios';\nimport React, { useEffect, useContext } from 'react';\nimport { Context } from \"../App\";\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Button from \"@mui/material/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginStatus(props) {\n  _s();\n\n  const {\n    username,\n    setUsername,\n    setPassword,\n    loggedIn,\n    setLoggedIn\n  } = useContext(Context);\n  const navigate = useNavigate();\n  useEffect(function () {\n    Axios.get('/api/user/isLoggedIn').then(response => setUsername(response.data.username)).catch(error => console.log(\"User is not logged in\"));\n  }, []);\n\n  function logout() {\n    Axios.post('/api/user/logout').then(response => {\n      navigate('/');\n    }).then(setUsername('')).then(setPassword('')).then(setLoggedIn(false)).catch(error => console.log(\"Error logging out\"));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [username.toUpperCase(), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: logout,\n        children: \"LOG OUT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        to: \"/login\",\n        component: Link,\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        to: \"/createUser\",\n        component: Link,\n        children: \"CREATE USER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginStatus, \"Ckx3IwW5FctiKJXT6xJ5LGBaSC8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginStatus\");","map":{"version":3,"sources":["/Users/christopherlee/Git/CS5610/chris-h-colin-n-chris-l-project3/src/components/LoginStatus.jsx"],"names":["Axios","React","useEffect","useContext","Context","useNavigate","Link","Button","LoginStatus","props","username","setUsername","setPassword","loggedIn","setLoggedIn","navigate","get","then","response","data","catch","error","console","log","logout","post","toUpperCase"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,QAA2C,OAA3C;AACA,SAAQC,OAAR,QAAsB,QAAtB;AACA,SAAQC,WAAR,QAA0B,cAA1B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAEvC,QAAM;AAACC,IAAAA,QAAD;AAAWC,IAAAA,WAAX;AAAwBC,IAAAA,WAAxB;AAAqCC,IAAAA,QAArC;AAA+CC,IAAAA;AAA/C,MAA8DX,UAAU,CAACC,OAAD,CAA9E;AACA,QAAMW,QAAQ,GAAGV,WAAW,EAA5B;AAEAH,EAAAA,SAAS,CAAC,YAAY;AAClBF,IAAAA,KAAK,CAACgB,GAAN,CAAU,sBAAV,EACKC,IADL,CACUC,QAAQ,IAAIP,WAAW,CAACO,QAAQ,CAACC,IAAT,CAAcT,QAAf,CADjC,EAEKU,KAFL,CAEWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAFpB;AAGH,GAJQ,EAIN,EAJM,CAAT;;AAMA,WAASC,MAAT,GAAkB;AACdxB,IAAAA,KAAK,CAACyB,IAAN,CAAW,kBAAX,EACKR,IADL,CACUC,QAAQ,IAAI;AACdH,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,KAHL,EAIKE,IAJL,CAIUN,WAAW,CAAC,EAAD,CAJrB,EAKKM,IALL,CAKUL,WAAW,CAAC,EAAD,CALrB,EAMKK,IANL,CAMUH,WAAW,CAAC,KAAD,CANrB,EAOKM,KAPL,CAOWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAPpB;AAQH;;AAED,sBACI;AAAA,cACKV,QAAQ,gBACL;AAAA,iBACKH,QAAQ,CAACgB,WAAT,EADL,eAEI,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAEF,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADK,gBAQL;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,EAAE,EAAE,QAAhC;AAA0C,QAAA,SAAS,EAAElB,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,EAAE,EAAE,aAAhC;AAA+C,QAAA,SAAS,EAAEA,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AATR;AAAA;AAAA;AAAA;AAAA,UADJ;AAqBH;;GA3CuBE,W;UAGHH,W;;;KAHGG,W","sourcesContent":["import Axios from 'axios';\nimport React, {useEffect, useContext} from 'react';\nimport {Context} from \"../App\";\nimport {useNavigate} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport Button from \"@mui/material/Button\";\n\nexport default function LoginStatus(props) {\n\n    const {username, setUsername, setPassword, loggedIn, setLoggedIn} = useContext(Context);\n    const navigate = useNavigate();\n\n    useEffect(function () {\n        Axios.get('/api/user/isLoggedIn')\n            .then(response => setUsername(response.data.username))\n            .catch(error => console.log(\"User is not logged in\"));\n    }, [])\n\n    function logout() {\n        Axios.post('/api/user/logout')\n            .then(response => {\n                navigate('/')\n            })\n            .then(setUsername(''))\n            .then(setPassword(''))\n            .then(setLoggedIn(false))\n            .catch(error => console.log(\"Error logging out\"));\n    }\n\n    return (\n        <div>\n            {loggedIn ?\n                <div>\n                    {username.toUpperCase()}\n                    <Button variant=\"contained\" onClick={logout}>\n                        LOG OUT\n                    </Button>\n                </div>\n                :\n                <div>\n                    <Button variant=\"contained\" to={\"/login\"} component={Link}>\n                        LOGIN\n                    </Button>\n                    <Button variant=\"contained\" to={\"/createUser\"} component={Link}>\n                        CREATE USER\n                    </Button>\n                </div>}\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}