{"ast":null,"code":"var _jsxFileName = \"/Users/christopherlee/Git/CS5610/chris-h-colin-n-chris-l-project3/src/components/LoginStatus.jsx\",\n    _s = $RefreshSig$();\n\nimport Axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Context } from \"../App\";\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Button from \"@mui/material/Button\";\nimport { AppBar, Toolbar } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginStatus(props) {\n  _s();\n\n  const {\n    username,\n    setUsername\n  } = useContext(Context); //const [username, setUsername] = useState(null);\n\n  const navigate = useNavigate();\n  console.log(username);\n  useEffect(function () {\n    Axios.get('/api/user/isLoggedIn').then(response => setUsername(response.data.username)).then(response => console.log(\"hit it\")).catch(error => console.log(\"User is not logged in\"));\n  }, []);\n\n  function logout() {\n    Axios.post('/api/user/logout').then(response => {\n      navigate('/');\n    }).then(setUsername(null)).catch(error => console.log(\"Error logging out\"));\n  }\n\n  if (username) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [username, \" is logged in\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !username ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        to: \"/login\",\n        component: Link,\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        to: \"/createUser\",\n        component: Link,\n        children: \"CREATE USER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [username, \" LOGGED IN\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginStatus, \"KCWaRvkv4q1Ipt3ZUF+XovnKFcI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginStatus\");","map":{"version":3,"sources":["/Users/christopherlee/Git/CS5610/chris-h-colin-n-chris-l-project3/src/components/LoginStatus.jsx"],"names":["Axios","React","useState","useEffect","useContext","Context","useNavigate","Link","Button","AppBar","Toolbar","LoginStatus","props","username","setUsername","navigate","console","log","get","then","response","data","catch","error","logout","post"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAAQC,OAAR,QAAsB,QAAtB;AACA,SAAQC,WAAR,QAA0B,cAA1B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,MAAR,EAAgBC,OAAhB,QAA8B,eAA9B;;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAEvC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA4BV,UAAU,CAACC,OAAD,CAA5C,CAFuC,CAIvC;;AAGA,QAAMU,QAAQ,GAAGT,WAAW,EAA5B;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AAEAV,EAAAA,SAAS,CAAC,YAAY;AAClBH,IAAAA,KAAK,CAACkB,GAAN,CAAU,sBAAV,EACKC,IADL,CACUC,QAAQ,IAAIN,WAAW,CAACM,QAAQ,CAACC,IAAT,CAAcR,QAAf,CADjC,EAEKM,IAFL,CAEUC,QAAQ,IAAIJ,OAAO,CAACC,GAAR,CAAY,QAAZ,CAFtB,EAGKK,KAHL,CAGWC,KAAK,IAAIP,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAHpB;AAIH,GALQ,EAKN,EALM,CAAT;;AAOA,WAASO,MAAT,GAAkB;AACdxB,IAAAA,KAAK,CAACyB,IAAN,CAAW,kBAAX,EACKN,IADL,CACUC,QAAQ,IAAI;AACdL,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,KAHL,EAIKI,IAJL,CAIUL,WAAW,CAAC,IAAD,CAJrB,EAKKQ,KALL,CAKWC,KAAK,IAAIP,OAAO,CAACC,GAAR,CAAY,mBAAZ,CALpB;AAMH;;AAGD,MAAIJ,QAAJ,EAAc;AACV,wBAAQ;AAAA,iBACHA,QADG,gCAEJ;AAAQ,QAAA,OAAO,EAAEW,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFI;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AAIH;;AAID,sBACI;AAAA,cACK,CAACX,QAAD,gBACG;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,EAAE,EAAE,QAAhC;AAA0C,QAAA,SAAS,EAAEN,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,EAAE,EAAE,aAAhC;AAA+C,QAAA,SAAS,EAAEA,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,gBASG;AAAA,iBACKM,QADL;AAAA;AAAA;AAAA;AAAA;AAAA;AAVR;AAAA;AAAA;AAAA;AAAA,UADJ;AAiBH;;GArDuBF,W;UAOHL,W;;;KAPGK,W","sourcesContent":["import Axios from 'axios';\nimport React, {useState, useEffect, useContext} from 'react';\nimport {Context} from \"../App\";\nimport {useNavigate} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport Button from \"@mui/material/Button\";\nimport {AppBar, Toolbar} from \"@mui/material\";\n\nexport default function LoginStatus(props) {\n\n    const { username, setUsername } = useContext(Context);\n\n    //const [username, setUsername] = useState(null);\n\n\n    const navigate = useNavigate();\n    console.log(username);\n\n    useEffect(function () {\n        Axios.get('/api/user/isLoggedIn')\n            .then(response => setUsername(response.data.username))\n            .then(response => console.log(\"hit it\"))\n            .catch(error => console.log(\"User is not logged in\"));\n    }, [])\n\n    function logout() {\n        Axios.post('/api/user/logout')\n            .then(response => {\n                navigate('/')\n            })\n            .then(setUsername(null))\n            .catch(error => console.log(\"Error logging out\"));\n    }\n\n\n    if (username) {\n        return (<h1>\n            {username} is logged in\n            <button onClick={logout}>Logout</button>\n        </h1>)\n    }\n\n\n\n    return (\n        <div>\n            {!username ?\n                <div>\n                    <Button variant=\"contained\" to={\"/login\"} component={Link}>\n                        LOGIN\n                    </Button>\n                    <Button variant=\"contained\" to={\"/createUser\"} component={Link}>\n                        CREATE USER\n                    </Button>\n                </div> :\n                <div>\n                    {username} LOGGED IN\n                </div>}\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}